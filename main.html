 <!DOCTYPE html>
  <html>
      <!--Created by James A. Scharf. Last edit 9/13/15-->
    <head>
        <style>
          header, main, footer {
            padding-left: 240px;
          }

          @media only screen and (max-width : 992px) {
            header, main, footer {
              padding-left: 0;
            }
          }
        
        .email_container {
            position:relative;
        }
        .droppable_right {
            position:absolute;
            bottom:0;
            right:0;
        }
        .droppable_left {
            position:absolute;
            bottom:0;
            left:0;
        }
        </style>
      <!--Let browser know website is optimized for mobile-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <!-- Compiled and minified CSS -->
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.0/css/materialize.min.css">
        
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script> 
      <!-- Compiled and minified JavaScript -->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.0/js/materialize.min.js"></script>
      <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    </head>

    <body background="">
        <header>
            <nav class="blue-grey darken-4">
                <div class="nav-wrapper N/A transparent">
                  <form style="">
                    <div class="input-field">
                      <input id="search" type="search" required>
                      <label for="search">
                          <i  class="material-icons">search</i>
                      </label>
                    </div>
                  </form>
                </div>
            </nav>
        </header>
        <main style="padding-top: 30px; @media only screen and (max-width : 992px) {padding-top: 0;}">
        <div class="row">
            <div class= "col s12 m4 l2">
                <ul id="slide-out" class="side-nav fixed">
                    <!--Put the logo here-->
                    <div name="infoArea">
                        <img src="" alt="User" style="margin-top: 90px;margin-bottom: 26px; width:70px;height:70px;display: block; margin-left: auto; margin-right: auto">
                        <h5 class="black-text" style="text-align: center">Username</h5>
                        <hr>
                    </div>
                    <li><a href="" class=""><i class="material-icons left " style="margin-top: 18px;">email</i>Inbox</a></li>
                    <li><a href="" class=""><i class="material-icons left" style="margin-top: 18px;">send</i>Sent</a></li>
                    <li><a href="" class=""><i class="material-icons left" style="margin-top: 18px;">contacts</i>Contacts</a></li>
                    <hr>
                    <li><a href="" class=""><i class="material-icons left" style="margin-top: 18px;">drafts</i>Drafts</a></li>
                    <li><a href="" class=""><i class="material-icons left" style="margin-top: 18px;">description</i>Archived</a></li>
                    <hr>
                    <li><a href="" class=""><i class="material-icons left" style="margin-top: 18px;">delete</i>Trash</a></li>
                    <li><a href="" class=""><i class="material-icons left" style="margin-top: 18px;">report</i>Spam</a></li>
                </ul>
  <a href="#" data-activates="slide-out" class="button-collapse hide"><i class="mdi-navigation-menu"></i></a>

            </div>
            <div class="col s12 m8 l10">
                <!--These are the tabs-->
                <div id="tabsDiv" class="row">
                    <div class="col s12">
                      <ul id="tabs" class="tabs">
                        <li class="tab col s3"><a class="active" href="#test1">Inbox</a></li>
                      </ul>
                    </div>
                    <div id="tabsCollectionDiv" >
                        <div id="test1" class="col s12">
                            <form action="post">
                            <p>
                                <input type="checkbox" class="filled-in" id="filled-in-box" />
                                <label for="filled-in-box">Select</label>
                            </p>
                            </form>
                            <hr style="margin-bottom: 20px;">
                            <!--Where all of the page content goes-->
                            <!--This is the email accordian-->
                            <!--You need JS to auto-add and initialize it, see http://materializecss.com/collapsible.html-->
                            <ul class="collapsible popout" data-collapsible="accordion" style="">
                                <li style="margin-bottom: 20px;"> <!--One email unit, consisting of the icon+subject and then the actual email-->
                                  <div id="colorToggle" class="collapsible-header dismissable ">
                                      <i class="material-icons">filter_drama</i>
                                      <b>email@email.com:</b>
                                      Subject
                                      <a href="" class="right-align">
                                          <i class="material-icons" style="@media only screen and (max-width : 992px) {padding-left: 0;}">delete</i>
                                      </a>
                                    </div>
                                    <div id="colorToggle" class="collapsible-body dismissable valign-wrapper ">
                                        <p>Lorem ipsum dolor sit amet.</p>

                                        </br></br>
                                        <div class="row email_container">
                                            <!--This is the forwarding button which creates a new forward tab-->
                                            <div id="forwarddiv" class="email_container" style="display: inline-block">
                                                <a style="margin-left: 30px;" onclick="forwardFunction()" class="waves-light btn N/A transparent black-text z-depth-0 ">
                                                    <i class="material-icons">forward</i>
                                                </a>
                                                <script>
                                                    function forwardFunction()
                                                    {
                                                        var forwardWord = "Forward";
                                                        var forwardContent = "This is where you'll place all of the forwarding html"; //MUST PUT HTML FOR FORWARDING IN HERE
                                                        var randTabName = Math.floor((Math.random() * 1000) + 1);
                                                        var $tabs = $('#tabs');      
                                                        $tabs.append("<li class='tab col s3'><a href='#"+randTabName+"'>"+forwardWord+"</a></li>");
                                                        $("#tabsCollectionDiv").append("<div id='"+randTabName+"' class='col s12'>"+forwardContent+"</div>");
                                                        // initalize tabs again, then select new tab
                                                        $tabs.tabs().tabs('select_tab', randTabName);
                                                    }                                                                    
                                                </script>
                                            </div>
                                            <!--This is the forwarding button which creates a new forward tab-->
                                            <div id="replydiv" class="email_container" style="display: inline-block">
                                                <a style="margin-left: 0px;" onclick="replyFunction()" class="waves-light btn N/A transparent black-text z-depth-0 ">
                                                    <i class="material-icons">reply</i>
                                                </a>
                                                <script>
                                                    function replyFunction()
                                                    {
                                                        var replyWord = "Forward";
                                                        var replyContent = "This is where you'll place all of the forwarding html"; //MUST PUT HTML FOR FORWARDING IN HERE
                                                        var randTabName = Math.floor((Math.random() * 1000) + 1);
                                                        var $tabs = $('#tabs');      
                                                        $tabs.append("<li class='tab col s3'><a href='#"+randTabName+"'>"+replyWord+"</a></li>");
                                                        $("#tabsCollectionDiv").append("<div id='"+randTabName+"' class='col s12'>"+replyContent+"</div>");
                                                        // initalize tabs again, then select new tab
                                                        $tabs.tabs().tabs('select_tab', randTabName);
                                                    }                                                                    
                                                </script>
                                            </div>
                                            <div id="dropdownDiv" class="droppable_right">
                                                <!-- Dropdown Trigger -->
                                              <a class='dropdown-button btn NA transparent black-text z-depth-0' style="margin-left: 900px; display: inline-block;" href='#' data-activates='dropdown1'><i class="material-icons">add_circle_outline</i></a>

                                              <!-- Dropdown Structure -->
                                              <ul id='dropdown1' style="margin-left: 850px; margin-top: 40px;" class='dropdown-content z-depth-1'>
                                                <li><a href="" class=""><i class="material-icons left">description</i>Archive</a></li>
                                                <li><a href="" class=""><i class="material-icons left">report</i>Mark as Spam</a></li>
                                              </ul>
                                            </div>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                </div>

            </div>
          </div>
      </div>
    </main>
        <script>
            $(document).ready(function(){ 
                //Initialize the tabs
                $('ul.tabs').tabs();
      
                // Initialize collapse button. 
                $(".button-collapse").sideNav();
                $('.collapsible').collapsible();
                // Initialize collapsible. Necessary for dynamic creation (uncomment the line below if you use the dropdown variation)
                //$('.collapsible').collapsible();
                
                //You need to do this for dynamic creation of dropdown buttons within the email
                //Make sure that the creation matches the/an automatic ID for this since they all have to match ID's
                /*$('.dropdown-button').dropdown({
                    inDuration: 300,
                    outDuration: 225,
                    constrain_width: false, // Does not change width of dropdown to that of the activator
                    hover: true, // Activate on hover
                    gutter: 0, // Spacing from edge
                    belowOrigin: false, // Displays dropdown below the button
                    alignment: 'left' // Displays dropdown with edge aligned to the left of button
                }
              ); */
            // the "href" attribute of .modal-trigger must specify the modal ID that wants to be triggered
            //Modals need to be auto-enabled when created.
            $('.modal-trigger').leanModal();
            });
        </script>
    </body>
  </html>